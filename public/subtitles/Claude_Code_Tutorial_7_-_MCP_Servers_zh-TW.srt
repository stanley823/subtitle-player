1
00:00:01,600 --> 00:00:27,240
好的，各位，在這一課中，我想討論一個叫做 MCP 和 MCP 伺服器的東西，它可以讓 Claude Code 具備連接和與外部資料來源、服務及 API 進行通訊的能力。例如，當我現在在這個專案中與 Claude 合作時，它了解我的專案，可以使用所有內建工具來進行修改、執行 Bash 指令等等。但這些工具只延伸到這個程式碼庫的範圍，對吧？

2
00:00:27,240 --> 00:00:55,280
Claude Code 沒有任何工具可以與外部資料來源、第三方服務或 API 互動。我不能告訴它，例如，連到一個資料庫來分析我的表格，甚至為我建立一個新的，因為它沒有那樣做的工具。但這就是 MCP 伺服器發揮作用的地方。簡單來說，MCP 代表模型上下文協議，由開發了 Claude Code 的 Anthropic 設計，它定義了一種 AI 模型與外部來源互動的方式。

3
00:00:55,520 --> 00:01:21,440
我們透過 MCP 伺服器為它們提供額外的工具和上下文來做到這一點。不同的 MCP 伺服器附帶不同的工具，用於做不同的事情並與不同的來源互動。所以你可以把 MCP 伺服器想成是你可以基本上插入 Claude Code 或你正在使用的任何客戶端的東西，然後由 AI 模型指導的 Claude 就可以使用伺服器提供的任何工具來與某些外部資料來源互動。

4
00:01:21,520 --> 00:01:48,680
例如，Supabase MCP 伺服器包含了列出表格、部署 Edge Functions，甚至執行 SQL 指令等工具。所以如果我安裝了 Supabase MCP 伺服器，Claude 就可以存取所有那些工具，我可以對 Claude Code 說：「讀取 Supabase 中的 blogs 表格，建立一個介面來模型化那些記錄。」作為回應，Claude 會檢查它可以用來做這件事的任何工具，並在 Supabase MCP 伺服器中找到一個。

5
00:01:48,920 --> 00:02:11,120
然後它會使用那個工具（只是伺服器中定義的一個函數）來連接資料庫並找到 blogs 表格。它會讀取它，然後將那個表格的格式回傳給 Claude Code，然後使用那些資料，Claude Code 可以決定如何建立介面。所以當我們使用 MCP 伺服器時，不是 AI 本身或像 Claude Code 這樣的客戶端直接連接到這些外部來源。

6
00:02:11,520 --> 00:02:40,160
而是 MCP 伺服器做那件事，然後為 Claude Code 或你可能使用的任何客戶端提供呼叫和使用那些工具的能力。另一個叫做 Playwright 的 MCP 伺服器為 AI 模型提供了開啟瀏覽器、瀏覽網頁、檢查元素、截圖的工具。Context7 MCP 伺服器提供了從許多框架和函式庫獲取最新文件的工具，你可以請 Claude Code 在使用那些框架或函式庫實作新功能時使用這些文件。

7
00:02:40,600 --> 00:03:07,120
還有很多其他的，你可以在像 pulsemcp.com 這樣的網站上找到，一定要去看看。我們要安裝這裡這兩個伺服器：Context7 和 Playwright。在接下來的幾課中，我們要在工作流程中使用它們。不過首先，我們實際上如何新增這些伺服器呢？如果我們查看 Claude Code 文件中的 MCP 安裝部分，你可以看到我們可以在本機電腦上新增它們，或通過遠端連接它們。

8
00:03:07,440 --> 00:03:27,560
我們將在本機新增伺服器，所以我們將使用頂部的這個選項。我們這樣做的方式是使用指令 claude mcp add，然後是伺服器名稱，接著是指令和任何參數。另外，如果你在 Windows 上，你目前需要再新增一件事，如果我們往下捲動，你會在一個大的黃色警告框中看到它，那就是要新增

9
00:03:27,680 --> 00:03:57,360
cmd 然後斜線 c，所以 cmd 部分開啟 Windows 命令列來執行指令，斜線 c 部分確保在執行完後 shell 會被關閉。通常，當我們使用 MCP 伺服器時，伺服器文件給了我們一整段字串可以複製貼上到終端機中，這樣就會新增伺服器。但請注意，對於使用 npx 的伺服器，如果你在 Windows 上，你可能需要新增 cmd /c 的部分，否則可能無法正確運作。

10
00:03:57,760 --> 00:04:26,560
無論如何，讓我們回到 Context7 MCP 頁面，看看它對安裝說了什麼。如果我們點擊頂部的這個 MCP 連結，它應該帶我們到伺服器的 GitHub 頁面，確實是的。然後如果你一路捲動到底部，我們最終應該會看到一堆將伺服器新增到不同客戶端的選項，其中一個選項應該是 Claude Code。點擊它展開，我們會獲得幾個不同的選項，前兩個是遠端伺服器連線。

11
00:04:26,560 --> 00:04:52,240
底部的那個是用於本地連線。我們說 claude mcp add，然後是伺服器名稱 context7，接著是雙破折號，再是 npx 指令。我們現在要複製它並貼入終端機，然後我們還要做一些編輯。我已經將它貼入我的終端機了，我只是要再新增幾件事。我們要做的第一件事是在雙破折號之前新增另一個旗標，那就是 scope 旗標。

12
00:04:52,560 --> 00:05:15,600
所以當我們使用 Claude Code 新增 MCP 伺服器時，我們可以將它們新增到三種不同的範圍。專案範圍，MCP 設定會推送到遠端，所有在專案上工作的人都可以使用新增到專案中的 MCP；本地範圍，只有你能在這個特定專案上使用 MCP 伺服器；以及全域範圍，MCP 被全域新增到 Claude Code，你可以在電腦上的任何專案中使用它。

13
00:05:16,000 --> 00:05:38,560
預設範圍是本地，但我想讓它成為專案範圍，這樣我們就可以在專案目錄中看到 MCP 配置。我通常使用專案或全域範圍，很少使用本地範圍。無論如何，要新增這個範圍，我們使用 scope 旗標後跟 project 來指定專案範圍，同樣這也可以是 local 或 global。

14
00:05:39,160 --> 00:05:59,360
在我們繼續之前，我要說這個：如果你在 Windows 上原生執行 Claude Code，在新增 MCP 伺服器時可能會有一些問題，至少在錄製這部影片時是這樣。如果你在 Mac 上，你可能不需要做任何繞道或變通方法，你現在就可以按 Enter，這樣就會運作。但如果你在 Windows 上，你需要多做幾件事才能讓它正常工作。

15
00:05:59,600 --> 00:06:27,520
首先，我們必須在其餘 npx 指令之前加上 cmd 然後斜線 c，就像我們之前討論的那樣。其次，如果我們現在執行這個，我們會得到一個錯誤，我會按 Enter 來向你展示，那個錯誤說有一個未知的 -y 選項，它出現在 npx 部分之後。現在，-y 旗標是用於在安裝某些套件時自動接受預設提示，在這種情況下它需要在那裡。那麼，我們如何解決這個問題？

16
00:06:28,040 --> 00:06:56,720
好吧，一個解決方案是先不帶 -y 旗標執行整個命令，這是我們現在要做的。當我們這樣做時，它會運作，Claude Code 在專案根目錄中建立這個 .mcp.json 檔案。如果我們看一下那個，我們會看到這個 JSON 物件，裡面有一個 MCP service 屬性，所有專案層級的伺服器都在這個屬性中被新增。所以我們可以在這裡看到我們剛才新增的 context7 那個，在它裡面，伺服器用這些不同的屬性進行配置。

17
00:06:57,080 --> 00:07:27,000
type 是 standard in out，因為這是我們新增的本地 MCP 連線。command 是 cmd，那是因為在 Windows 上我們新增了那個額外的 cmd 部分。然後我們有一些參數，包括斜線 c 的部分，我們也新增了它，因為我們在 Windows 上。再次說明，如果你在 Mac 上，這可能看起來有些不同，你不需要做任何更改。但在 Windows 上，因為我們移除了 -y 旗標，現在我們應該手動在 npx 那個後面的 arguments 陣列中新增它。讓我們現在這樣做

18
00:07:27,080 --> 00:07:28,560
然後儲存檔案。

19
00:07:29,680 --> 00:07:55,920
好的，希望現在當我們啟動 Claude Code 時，這一切都能正常工作，但我確實認為在 Windows 上使用時這整個變通方法有點笨拙，我希望未來可以讓它變得更簡單，也許當你看這部影片時它已經改進了。無論如何，現在讓我們試著使用這個。我剛才試著使用這個 MCP 伺服器，得到了某種連線錯誤，它失敗了，不知為何無法運作。所以我實際上要改用 Context7 的遠端伺服器。

20
00:07:56,000 --> 00:08:23,600
這很奇怪，因為在錄製前我試過時是可以運作的，一切都很正常。但有時候就是這樣，因為 Claude Code 是新的，MCP 伺服器也是新的，它們在快速改變，有時候事情就是無法運作，可能需要一些時間才能穩定下來。所以我現在要做的是回到文件，查找遠端伺服器需要執行的另一個指令。我們將使用這裡這個，它使用 HTTP 作為傳輸系統，讓我們複製這個。

21
00:08:24,000 --> 00:08:46,680
好的，我已經把它貼入我的終端機了，但我要再新增一件事，那就是在伺服器名稱後面加上 scope 旗標。所以在 context7 後面加上雙破折號，然後是 scope，再是 project，以在專案層級新增這個。按 Enter，希望現在它會為我們新增那個伺服器，如果我們關閉這個終端機並在這裡查看，應該就能看到 mcp.json 檔案，確實，我們在裡面看到了 context7 那個屬性。

22
00:08:46,680 --> 00:09:15,760
這次 type 是 HTTP，因為我們使用遠端連線，這也是伺服器的 URL，很好。所以現在我們需要重新啟動 Claude，我要在這裡輸入 claude 然後按 Enter 來啟動它。讓我們關掉檔案樹，然後在這裡我要輸入 /mcp，希望這次我們可以看到 context7。好的，它連線失敗了，我要按 Enter，然後我要重新連線，看看這次是否能連上。

23
00:09:15,920 --> 00:09:44,800
好的，看起來它成功了。輸入 /mcp，現在我們可以看到旁邊有一個綠色勾號，我們已連接到 Context7，可以開始使用它了。讓我按 Escape 退出。好的，現在我要輸入這個提示詞讓 Claude Code 使用 Context7：「你能檢查最新的 Tailwind 文件，看看主題變數是否在全域 CSS 檔案中正確配置嗎？請使用 Context7。」我也要參考那個 CSS 檔案，讓它知道要在哪裡查看，輸入 src/app 然後是 globals。

24
00:09:45,400 --> 00:10:09,760
.css，然後按 Enter。但在我這樣做之前，注意我說了「使用 Context7」，這樣它就明確知道要使用那個 MCP 伺服器來獲取最新資訊。讓我按 Enter 來執行這個。現在它想使用 Context7 的 resolve library ID 工具，然後它想使用一個額外的工具，並需要我的許可。所以我要在這裡按是。

25
00:10:10,920 --> 00:10:34,480
現在你可以看到在這裡，它說：「查看你的 Tailwind CSS 配置，你的主題變數配置正確，blah blah blah，結構正確。」好的，所以一切都符合預期，太棒了。我喜歡使用 Context7 的一件事是告訴 Claude Code，每當需要使用第三方框架或函式庫來實作某些功能時就使用它，因為很多時候它可能會使用舊版程式碼。

26
00:10:34,480 --> 00:10:52,360
所以我想確保它在使用那些框架建立某些程式碼時，每次都使用最新的文件。而且不只是 Claude Code，任何 AI 工具或模型都是如此，它們都可能使用舊版程式碼，因為它們是在那些舊版程式碼上訓練的。所以我要在這裡使用井字號新增一個記憶，我已經

27
00:10:52,440 --> 00:11:13,360
按了井字號，我們要新增一個記憶，然後我要貼入這個記憶，它說：「在需要時使用 Context7 來查看實作新函式庫或框架，或使用它們新增功能時的最新文件。」如果我按 Enter，我們要將其新增到專案記憶，如果我們打開這個檔案，應該就能在底部看到它了，是的，就在那裡，太棒了。

28
00:11:14,280 --> 00:11:38,320
好的，現在我們要新增另一個叫做 Playwright 的伺服器，它為 Claude Code 提供了開啟瀏覽器、點擊連結、截圖等工具。我現在在 Playwright MCP 頁面，對於 Claude Code 它說執行這個指令，但因為我們在 Windows 上，我們需要再次調整它。我也想確保我們在新增它時使用專案範圍。複製這個指令，然後回到你的終端機。

29
00:11:38,560 --> 00:12:03,200
好的，我已經輸入了這個指令，以及另外兩件事：首先是這裡的 scope 旗標，用來指定我們想在專案層級新增這個；然後是 cmd /c 的部分，因為我們在 Windows 上執行這個。這次我們不需要為這個特定伺服器新增 -y 旗標。好的，現在讓我們按 Enter，希望這會將 Playwright 伺服器新增到 mcp.json 檔案。

30
00:12:03,440 --> 00:12:28,400
讓我們在這裡看看，是的，我們可以看到我們現在有 context7 那個，還有 playwright 那個，這次 type 是 standard in out，command 是 cmd，然後是這裡的 arguments，太棒了。好的，現在我們需要再次啟動 Claude，這樣我們就可以試著使用它了。好的，我已經啟動了 Claude，我要做的第一件事是使用 /mcp 工具確保它們連線正確。是的，好的，很好。

31
00:12:29,080 --> 00:12:57,120
現在我要按 Escape，然後我只是要請 Claude Code 開啟一個瀏覽器，瀏覽到 netninja.dev，並給我一個網站的摘要。這只是為了向你展示它可以使用 Playwright 瀏覽到一個網站，或者 Playwright 可以代表它這樣做，並提供我們需要的回饋。所以它首先要請求許可，我們就說是。

32
00:12:57,880 --> 00:13:06,720
然後在我的另一個螢幕上，它開啟了 netninja.dev，我們可以在這裡看到。所以它就要進行瀏覽了，我要把它移到螢幕外。

33
00:13:07,840 --> 00:13:37,720
好的，現在它回來了，帶來了一些資訊。它說：「NetNinja 是一個由 Shaun 建立的綜合性編程教育平台，專注於網頁開發培訓。這個網站將自己定位為一個編程道場，有抱負的開發者在這裡成為編程忍者。」我對此相當滿意，它也提供了其他相當詳盡的資訊，老實說。但 Playwright 能做的不止這些，我想做的是使用 Playwright 對我們

34
00:13:37,800 --> 00:13:50,320
製作的元件在瀏覽器中使用時提供 UX 回饋。所以在下一課，我們要做的是使用 Claude Code 製作我們自己的子代理，我們將在那個子代理中使用 Playwright MCP 來做到這一點。

