1
00:00:01,120 --> 00:00:26,240
好的，朋友們，在這一課中，我們將討論一個叫做斜線指令的東西，我之後就直接稱它為「指令」，因為這樣更簡短，我們也會製作一個自訂指令。我們已經見過並使用了 Claude Code 開箱即用的幾個內建指令，透過輸入斜線再加上指令名稱來使用，例如 /clear 來清除上下文，或 /init 來初始化 CLAUDE.md 檔案。

2
00:00:26,240 --> 00:00:54,240
如果你只輸入一個斜線，你會看到 Claude Code 附帶的所有可用指令的清單，你可以用上下鍵瀏覽這些指令。我們有 /adddir 可以給 Claude 存取另一個工作目錄的權限，本質上這允許從一個位置進行多儲存庫開發，如果你有相關的專案，例如後端和前端，這會很有用。我們還有 /agents 用於管理子代理，我們稍後在課程中會看到這個。

3
00:00:54,640 --> 00:01:22,720
這裡有 /clear 和 /compact，我們已經用過了。有一個 /model 指令，使用它可以讓我們選擇想要使用的模型，我目前選擇了 Sonnet 4。你也可以按 Escape 鍵退出這些畫面。還有一個 /permissions 指令，可以用來為這個專案中的不同工具在 Claude Code 中新增許可，當你這樣設定時，它會自動將那些許可新增到本地設定檔中。我通常自己手動新增。

4
00:01:23,200 --> 00:01:47,040
無論如何，我現在不打算一一介紹所有這些不同的指令，因為實在太多了，我們在未來的課程中也會使用其中的一些，但請務必瀏覽一遍並稍微試試看。在這一課中，我想專注於製作一個自訂指令，我們可以將其新增到這個清單中。我們會為在專案中可能常常執行的任務製作自訂指令。例如，在這個專案中，我可能會製作很多 UI 元件。

5
00:01:47,040 --> 00:02:14,000
所以我可以為產生那些元件製作一個指令，其中包含詳細的提示詞、所需的任何上下文，以及我可以傳遞給 AI 模型的任何其他具體細節。然後每當我需要製作新的 UI 元件時，我只需使用那個自訂元件指令就行了。讓我們試試看。首先，我們需要在 .claude 資料夾內建立一個 commands 資料夾，如果你還沒看到那個 .claude 資料夾，你也可以先建立它。

6
00:02:14,320 --> 00:02:40,400
然後在 commands 資料夾內，我們可以建立一個新的 Markdown 檔案，名稱為我們想要的指令名稱。例如，我要將其命名為 ui-component.md。好的，現在在這個檔案內，我們可以給 Claude Code 任何我們想要的指示，用來建立一個新的 UI 元件。我可以告訴 Claude 檔案應該放在哪裡、命名慣例、我想要的任何元件樣式變體、如何測試元件等等。

7
00:02:40,720 --> 00:03:08,480
現在，我只是貼入一組簡單的指示，告訴它在 components 資料夾中的 UI 資料夾內建立一個新的單一 UI 元件，並且元件應該是一個使用大駝峰命名法命名的函數式元件。我也告訴它使用 CSS 檔案中的主題變數顏色，為元件新增以下樣式變體和尺寸。注意我在這裡使用 @ 符號來載入另一個檔案作為上下文。

8
00:03:08,840 --> 00:03:36,560
在這些自訂指令中你可以這樣做。然後我告訴 Claude 也為元件建立一個測試檔案，並且我希望它執行測試直到全部通過。最後，我要求它將元件新增到預覽頁面，這樣我們完成後就可以在瀏覽器中預覽它，而不要在專案的其他任何地方新增它，因為有時候 Claude 會很興奮，想到處使用這些新東西。加了這句話，它就只會新增到預覽頁面。

9
00:03:36,760 --> 00:03:59,920
順帶一提，所有這些就像一個很大的提示詞。當我們使用自訂指令時，Claude Code 本質上是將這個 Markdown 檔案載入並將其作為提示詞使用。好了，讓我關閉這個檔案，我們也需要重新啟動一個新的 Claude 作業階段，讓它能夠偵測到我們剛剛建立的這個新指令。先退出當前作業階段，然後再次啟動 Claude。

10
00:04:00,400 --> 00:04:25,280
好的，現在如果我們輸入斜線，應該就能看到我們剛才建立的新指令，就是這個 UI component。我要按 Tab 選擇它，然後直接按 Enter 執行這個指令。注意，在這個指令中我們並沒有說明要製作什麼樣的 UI 元件，所以基本上就是把決定權交給 AI，讓它製作任何它認為合適的元件。

11
00:04:28,760 --> 00:04:44,400
好了，我們可以看到它決定建立一個卡片元件。讓我們繼續讓它做這件事，如果你想要不同的東西，你可以說不，然後告訴 Claude 要做什麼不同的事情。我們就選是，並且對這個專案中的 make 指令不再詢問。

12
00:04:47,120 --> 00:04:49,600
好的，我們要允許它進行這些修改。

13
00:04:54,040 --> 00:04:57,200
現在它想執行這個 Bash 指令來測試元件。

14
00:05:02,000 --> 00:05:30,000
好的，看起來一切都完成了。它建立了卡片元件和測試檔案，有五個樣式變體、三種尺寸，所有測試都通過了，它也將預覽新增到了預覽頁面。讓我們先在這裡確認一切都已新增，然後再自己在瀏覽器中預覽。前往 UI 資料夾，可以看到 card 資料夾和這裡的卡片檔案，這就是元件。同樣地，我通常會仔細看過，確認程式碼是否符合我的期望，測試檔案也是如此。

15
00:05:30,080 --> 00:05:47,920
Claude 產生的任何內容，我都只是大致瀏覽一遍。然後如果我們前往 app，再到 preview，可以看到頁面檔案中有了修改，在某處應該有一個新的卡片元件，可能在最底部。讓我們一路捲到底部。

16
00:05:49,200 --> 00:06:18,160
現在是個大檔案了，就是這裡，我們可以看到卡片元件的不同樣式變體。現在讓我們看看在瀏覽器中是什麼樣子。好的，我正在預覽頁面，如果我們一路往下捲，希望能看到這些卡片。是的，有了。我們可以看到這些不同的樣式變體，看起來很不錯，老實說。我們有 primary、secondary、success、warning 卡片、danger，它們都有一個懸停效果，我很喜歡。我們有不同的尺寸、可互動的卡片，哇，這相當不錯。

17
00:06:18,800 --> 00:06:38,080
停用的卡片、有小圖示的特色卡片，所以它做了很全面的工作，我很容易想像自己在這個專案中使用這種卡片。讓我看看它們在深色模式下是什麼樣子，讓我點擊這個，然後往下捲，是的，我們也有深色模式的樣式變體，太棒了！

18
00:06:39,400 --> 00:07:06,480
好了，那個效果不錯，看起來也挺好的，但目前每次使用這個指令，我們都會得到一個神秘的元件，我們不知道它會是什麼，而且我們把那個決定交給了 Claude Code。相反地，當我使用這個指令時，我想要精確指定我想要的 UI 元件。例如，我會說 /ui-component，然後說 card，可能還有一個簡短的描述。我們可以使用指令參數來做到這一點。

19
00:07:07,320 --> 00:07:29,600
如果我們開啟指令檔案，我要在檔案頂部加入這個小段落，有幾件事需要說明。首先，我們在檔案頂部有這個 Frontmatter，這是 Markdown 的一個功能，讓我們可以為檔案提供一種元資料。在這個案例中，Frontmatter 中有兩個屬性：description（描述指令的作用）和 argument hint（用來告訴我們執行此指令時預期的參數類型）。

20
00:07:29,840 --> 00:07:57,920
這兩者都會在我們使用這個工具時顯示在聊天介面中，提醒我們這個指令的作用和需要什麼。接著，我新增了這個新的 context 區塊，我們在其中指示 Claude Code 傳入這個 $arguments 變數來獲取一些值。這個 arguments 就是 Claude Code 捕獲我們在呼叫指令時傳入的任何參數的方式，無論我們傳入一個、兩個還是五個參數，它們都被包含在這個單一的 $arguments 值中。

21
00:07:58,320 --> 00:08:27,680
在我們的案例中，我想傳入兩個參數：一個名稱和我們正在製作的元件的摘要。所以我們需要以某種方式從 arguments 值中獲取這兩個參數。我在官方文件或任何地方都沒有看到關於如何傳遞多個值的官方指引，但我發現以下方法非常有效：使用方括號來建立帶有值的變數，方括號中的名稱就是變數名稱，右側的文字告訴 Claude Code 要儲存什麼。

22
00:08:28,280 --> 00:08:56,080
這實際上是我們在 Markdown 中建立參考連結的方式，但我也發現它對這種用途非常有效。所以我們是在告訴 Claude Code 嘗試從參數中找到並儲存這些值，這意味著我們可以在後面的指示中使用它們。我現在要選取所有這個任務部分，刪除它，然後用一個包含那些參數值的新指示來替換它。我仍然告訴它要製作 UI 元件，但這次我讓它使用名稱和摘要的值。

23
00:08:56,480 --> 00:09:21,520
首先用於資料夾和檔案名稱，其次用於元件名稱，最後，我告訴它在製作元件本身時參考摘要。所以現在當我們從 Claude Code 呼叫這個指令時，我們可以傳入參數，這些參數然後被傳遞並由 AI 使用這些值來製作元件。在我們這樣做之前，我們需要退出 Claude 並重新啟動，因為我們對指令檔案做了修改，先退出，然後再重新啟動。

24
00:09:23,960 --> 00:09:51,280
好了，現在如果我按斜線，我們可以看到 UI component，它告訴我們在這個目錄中建立 UI 元件。我要按 Tab 選擇它，你可以看到它現在給了我們一個關於它所預期的參數的提示。讓我們來製作一個圖示元件，所以它應該叫做 icon，然後我要用一個 | 符號來分隔第二個參數，我就說一個用於顯示圖示的圖示元件，帶有圓形背景。

25
00:09:51,960 --> 00:09:58,240
讓我們看看它會怎麼做，按 Enter。

26
00:10:02,600 --> 00:10:06,880
好的，它要求進行編輯，我要選擇第二個選項並按 Enter。

27
00:10:17,640 --> 00:10:43,280
好的，看起來它完成了所有事情。讓我們關閉這個和那個，看看它建立和更改了哪些檔案。看一下 UI 資料夾，我們現在可以看到一個 icon 資料夾，有測試檔案和元件本身。我們有可以傳入的樣式變體、尺寸、onClick，還有 className，這些是圖示的 props。好的，讓我們看看這裡。

28
00:10:43,280 --> 00:11:06,080
我認為 child 將會是圖示本身。讓我們看看它在預覽頁面中做了什麼，一路捲到圖示所在的底部。是的，它新增了它們。好的，我們有這些小表情符號嵌入在圖示中，所以我想無論我們想要什麼圖示，我們就在這裡輸出它，無論是表情符號還是你可能使用的某個套件中的圖示。

29
00:11:07,360 --> 00:11:32,080
好的，我再次在預覽頁面上，我要一路往下捲。好的，我們可以在這裡看到這些圖示，它們看起來還行。我想相比使用表情符號，我可能更希望使用某個圖示套件，我更傾向那樣，老實說，那是我會回頭告訴 Claude 的事情，它可以再次編輯那些檔案，並更新它以按照我認為合適的方式正確運作。

30
00:11:32,080 --> 00:11:38,360
這就是保持在迴圈中的重要性，查看它在做什麼，而不只是默認接受它所做的一切。

31
00:11:40,440 --> 00:12:08,800
事實上，我忍不住了，我剛剛回到了程式碼，請 Claude 修改它並改為使用圖示函式庫。如果我們現在看看這些，我希望它們看起來會好一些。往下看，好了，就是這樣，看起來好多了。我們有所有這些不同的樣式變體，不同的尺寸、可互動的圖示、操作列、不同的使用方式，看起來都好多了。無論如何，我認為關於指令和自訂指令的內容就到此為止，在下一課，我們將介紹 MCP 伺服器。

