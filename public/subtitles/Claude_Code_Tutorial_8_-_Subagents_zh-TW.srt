1
00:00:00,880 --> 00:00:26,160
好的，各位，在這一課中，我想討論一個叫做子代理的東西，它非常酷，基本上允許你建立一整個團隊在你的專案上工作，每個子代理可以有不同的專業領域，可以被隔離並配置為處理特定的任務。例如，我們可以製作一個單元測試代理，專注於撰寫和執行測試；或者我們可以製作一個專門進行安全稽核的子代理。

2
00:00:26,400 --> 00:00:52,360
我們可以製作一個 UX 審查員，專門透過在瀏覽器中查看新元件來提供回饋，等等。現在這些子代理都彼此獨立運作，它們有自己的系統提示詞、允許執行的工具，以及自己的上下文視窗。所以它們是隔離特定工作流程和任務的好方法。而且真正酷的是，Claude Code 可以在需要時將任務委派給它們。你可以把 Claude Code 想成是一個資深開發者，

3
00:00:52,520 --> 00:01:17,600
在執行任務，然後指示子代理進行某些工作。以這種方式工作的主要好處之一是，每個子代理都有專業的專業知識，我們可以透過詳細的系統提示詞對其進行微調，使其在特定領域中表現出色。另外，因為每個子代理都有自己隔離的上下文視窗，這讓它們的上下文保持整潔和專注，我認為在很多時候這能帶來更好的結果。

4
00:01:18,120 --> 00:01:46,560
這也意味著，如果我們正確地這樣做，主執行緒會保持更整潔和簡潔，因為我們將任務委派給那些子代理，這減少了主作業階段中的上下文過載。所以在這一課中，我們要製作一個子代理，它可以使用 Playwright MCP 伺服器，在元件製作完成後，在瀏覽器中預覽和審查新元件的 UI 和 UX。工作流程看起來會是這樣：我們要使用自訂斜線指令告訴 Claude Code 為我們製作一個新的 UI 元件。

5
00:01:46,560 --> 00:02:10,840
在那個指令中，我們要新增一條指示，告訴它在進行程式碼編輯後，呼叫 UX 審查員子代理來審查它的工作。那個子代理要使用 Playwright 開啟瀏覽器，從 UX 的角度查看元件。然後它要向 Claude Code 的主執行緒提供回饋，Claude Code 將根據那個回饋對元件進行修改。如果需要的話，它可以再次請 UX 審查員審查程式碼或審查

6
00:02:11,520 --> 00:02:37,680
在瀏覽器中的元件，並提供更多回饋，直到最終大家都滿意並且元件完成。讓我們來試試看。那麼讓我們從製作一個新的子代理開始，我們可以進入 Claude Code 聊天作業階段，然後使用 /agents 指令來做到這一點。當我們這樣做時，我們會看到你已經建立的代理清單，我們還沒有建立任何，所以我們可以選擇「建立新代理」選項來製作一個。

7
00:02:38,000 --> 00:03:07,120
完成後，我們可以為這個新代理選擇範圍，可以是專案或個人。我要選擇專案範圍，這樣在這個專案上工作的任何人都可以使用這個子代理。然後我們會獲得兩個選項：你可以讓 Claude 為你生成一個，或者你可以從頭開始手動製作一個。我想做的是讓 Claude 為我製作一個，然後在我認為合適的地方修改它。所以讓我們選擇第一個選項，然後我們被要求描述這個代理應該做什麼以及何時應該使用它。

8
00:03:07,720 --> 00:03:30,000
我現在只是要貼入這個代理的摘要，它說：「專業的 UI 和 UX 工程師，使用 Playwright 在瀏覽器中審查 React 元件的 UI 和 UX，截圖，然後就如何在視覺設計、使用者體驗和無障礙功能方面改進元件提供回饋。」然後我要按 Enter，Claude Code 就會去為我們製作這個新代理。

9
00:03:33,160 --> 00:04:03,120
在某個時候，它會問你想要為你的代理提供哪些工具，預設選項是允許所有工具，但我要取消選擇編輯工具，因為我不想給代理編輯檔案的權限，我只想讓它審查元件並提供回饋。它也會問你想為子代理使用哪個 AI 模型，我要選擇 Sonnet 4 模型。然後它會問你想要子代理在終端機中提供更新時使用什麼顏色。

10
00:04:03,120 --> 00:04:29,800
我要選紫色，你選你想要的顏色。最後，它會給你一個它要製作的代理的摘要，你可以按 Enter 確認。好的，我們可以看到現在我們有這個叫做 UI-UX-Reviewer 的專案代理，它使用 Sonnet 模型。讓我們關閉這個，如果我們開啟這個檔案樹，應該就能在 Claude 資料夾和 agents 資料夾中看到這個代理的 Markdown 檔案。

11
00:04:29,800 --> 00:04:52,440
所以我們在頂部有一些 Frontmatter，包含代理的名稱、描述，以及下面它允許使用的工具。它在這裡列出了 Playwright 那個，或者更確切地說是幾個 Playwright 工具，因為我們在摘要中特別說了我們想使用 Playwright。還有模型和顏色，然後下面是一些描述。

12
00:04:52,640 --> 00:05:21,680
然後我們有實際的工作流程，包括設置、視覺文件說明、如何分析、一些測試方法。我們不打算把這些都讀完，但本質上它為我們建立了這個，而這個代理的工作現在是在瀏覽器中使用 Playwright MCP 審查元件。你可以編輯這個，如果你想的話，它基本上就像是子代理的一個巨大提示詞，在子代理被呼叫時使用。

13
00:05:22,080 --> 00:05:49,520
所以請隨意瀏覽這個，編輯任何你不同意的地方，或者新增任何你想要新增的額外資訊。好的，現在我們有了這個子代理，我們可以回到我們在課程早些時候建立的自訂 UI 元件指令。記住，這個指令指示 Claude Code 根據某些標準製作新的 UI 元件。現在在最後，我要貼入最後一條指示，告訴 Claude 呼叫我們剛才建立的新子代理並要求它提供回饋。

14
00:05:49,920 --> 00:06:11,840
一旦它獲得了那個回饋，它應該透過更新元件來實作它。最後，如果需要的話，它可以要求再次審查並獲得更多回饋。所以現在一切都設定好並準備就緒了，讓我們試試看。記住，我們首先需要退出 Claude Code，因為我們剛才對這個指令做了更改，然後我們要再次啟動作業階段。

15
00:06:13,040 --> 00:06:39,840
好的，讓我們使用 UI 元件工具，如果我能拼對 components 的話，就像這樣。然後元件名稱是 modal（彈窗），我要說：「製作一個乾淨現代感的彈窗，同時具有半透明的背景遮罩。」

16
00:06:42,000 --> 00:06:44,000
好的，按 Enter。

17
00:06:48,080 --> 00:07:08,320
好的，我們可以看到它已經有一個它要完成的待辦清單，在最底部，它說要使用 UI-UX-Reviewer 代理審查元件，這就是最後一步。好的，它想做某件事，是的，我們允許，並且我要允許整個作業階段。

18
00:07:12,560 --> 00:07:23,040
好的，你現在可以看到它已呼叫了這個 UI/UX 審查員，那個審查員想開啟一個瀏覽器。為了做到這一點，它想啟動開發伺服器，所以我要讓它這樣做。

19
00:07:25,440 --> 00:07:33,360
現在它想瀏覽到預覽頁面，也就是 Claude Code 在建立元件時將其新增到的地方，所以讓我們允許它這樣做。

20
00:07:35,320 --> 00:07:39,840
現在在我的另一個螢幕上，我可以看到它開啟了瀏覽器，就在這裡，好的。

21
00:07:41,560 --> 00:07:46,400
它要求我許可截圖，是的，我要允許它這樣做。

22
00:07:50,080 --> 00:07:56,960
另外，你可以透過 Playwright 做的一件事是點擊頁面上的元素，現在它請求許可這樣做，所以我們說是。

23
00:08:00,400 --> 00:08:10,400
順帶一提，這花了很長時間，因為 Claude Code 為這個彈窗建立了很多不同的樣式變體，大約有七八件不同的事情它需要在網頁上進行測試。

24
00:08:13,760 --> 00:08:21,040
好的，現在它想調整瀏覽器寬度，所以它甚至在測試更小裝置螢幕上的效果，這真的很不錯。我要允許它這樣做。

25
00:08:25,120 --> 00:08:48,640
好的，最終它完成了審查過程。你現在可以看到它進行了一些額外的編輯，這些都是它實作的功能：顏色變體、不同的尺寸、確保無障礙性良好，以及不同的互動方式，可以透過關閉按鈕、Escape 鍵或點擊背景遮罩來關閉彈窗。

26
00:08:49,840 --> 00:08:57,920
這些是為彈窗和測試建立的檔案，然後它更新了預覽頁面，在這裡加入了互動示範。

27
00:08:59,040 --> 00:09:28,800
它在這裡說，UI UX 審查員給了它五顆星滿分，並標記為生產就緒，這真的很好，所以它顯然在製作這些元件方面做得很好。現在讓我們在瀏覽器中查看這些。好的，我就在預覽頁面上，我一路捲到了彈窗元件的地方。這裡有按鈕可以開啟彈窗，我可以點擊 primary，是的，看起來很不錯。我們可以透過關閉按鈕或點擊這裡來關閉它。我要試試 secondary 那個然後按 Escape。

28
00:09:28,960 --> 00:09:54,880
是的，那樣關閉了它。Confirm，好的，然後我們點擊 Cancel，最後我們點擊關閉按鈕。所以我們有這些不同的樣式變體，這真的很好，不同的尺寸：小的、中的，那個稍大一點，大的，是的，又稍微大了一點。好的，這些是它實作的功能，很不錯，它也為我整理了文件。所以這些實際上使用了卡片元件，我想，因為卡片元件在這裡上面。

29
00:09:55,400 --> 00:10:22,880
所以，就像我在系列早些時候說的，Claude Code 有時確實會有點過於興奮，它喜歡在應用程式的其他地方使用它已完成的工作。所以我認為這只是一個例子，它重複使用了卡片元件來告訴我關於它剛才建立的彈窗元件，非常好，做得很棒。無論如何，一切看起來都相當不錯，也許我會在這裡做一些調整，但我認為它在建立和在瀏覽器中測試這個元件方面做得很好。

30
00:10:23,560 --> 00:10:42,880
還有最後一件事，快速說一下，僅僅因為我們製作了一個子代理來自動化審查流程，並不意味著你不應該自己審查工作，無論是在瀏覽器還是在程式碼中。這是我認為非常重要的事情，也是我總是做的事情，以保持在迴圈中，因為即使在瀏覽器中一切看起來都沒問題，也不意味著它的程式碼是正確的，你可能會發現一些你不喜歡的東西。

31
00:10:43,280 --> 00:10:54,080
另外，如果你不查看 Claude 產生的程式碼，你會發現自己很快就會脫離迴圈，當你確實需要深入研究程式碼庫時，未來會更難導航。

