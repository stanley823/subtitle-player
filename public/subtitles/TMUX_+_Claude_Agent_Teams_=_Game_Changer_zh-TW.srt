1
00:00:00,080 --> 00:00:20,960
在這部影片中，我們要來看看 Claude 最新的功能 Agent Teams。首先，我們會介紹什麼是 Agent Teams，以及子代理和 Agent Teams 之間有什麼區別，Agent Teams 試圖解決什麼問題，然後我們會深入探討如何在你的本機上設定這一切，如何使用 tmux 在一個終端工作階段裡檢視所有 Agent Teams 成員，全都在 Claude Code 裡面完成。

2
00:00:21,040 --> 00:00:42,240
我們還會看看如何啟動一個專案、如何管理它、如何與每個代理互動、如何進行溝通，並最終完成整個專案。我們也會看看如何把這些轉換成一個 Claude skill，讓我們未來可以重複使用。基本上這就是這部影片涵蓋的內容，如果你有興趣的話，讓我們開始吧。好的，在我們正式開始之前，先為新觀眾做個簡短的自我介紹。

3
00:00:42,400 --> 00:01:12,160
我叫 Eric，我在 Amazon、AWS 和 Microsoft 等公司擔任資深軟體工程師多年，我開設了這個頻道來分享我一路以來學到的所有東西，從 AI 編程到自動化、Web3、職涯發展等等，全部拆解成你實際可以跟著操作的實用教學。當然，我們也有一個 School 社群，你可以取得所有的資源、範本，以及社群支援。如果你準備好要提升自己，記得來看看我的 YouTube 頻道並按下訂閱按鈕。

4
00:01:12,400 --> 00:01:37,280
好，讓我們回到正題。首先，我想先釐清 Agent Teams、子代理和預設模式之間的差別。我們用這個例子來說明，對吧？假設你是一個開發者，你要撰寫上傳功能的 UI 元件、伺服器端的 Edge Functions、建構配對演算法，還有撰寫測試，對吧？這基本上就是你的任務，而在預設模式下，一個代理只有一個上下文視窗。

5
00:01:37,520 --> 00:02:05,160
所以如果你要用一個代理來完成任務，你基本上會按順序依次完成這些任務，也就是說你先撰寫上傳 UI 元件，再寫 Supabase Edge Functions 來處理後端，接著建構配對演算法，最後再寫測試，一個接一個按順序來。這種做法可能會很慢，但還有一個更嚴重的問題——上下文越多，準確度就越低，這意味著隨著任務變得更複雜、上下文視窗開始被塞滿，準確度就會開始下降，而這正是子代理

6
00:02:05,240 --> 00:02:28,400
真正要解決的問題：我們試圖透過讓多個子代理同時執行來降低每個代理的複雜度。所以同樣的任務，例如撰寫 UI、Edge Functions、建構配對演算法和撰寫測試，對吧？我們可以直接把這些工作分配給多個子代理，一個代理專注處理 UI，另一個專注處理後端，還有一個專注處理配對演算法。

7
00:02:28,480 --> 00:02:52,640
基本上我們可以讓主上下文視窗變成一個協調者，把任務分配給多個子代理，這樣每個子代理的上下文視窗就比較小了。但問題在於不同的子代理之間沒有溝通。舉例來說，假設子代理一號在建構上傳器的 UI，它定義了相關的資料型別。然後假設子代理二號在建構 Edge Functions，它也定義了自己的資料型別。

8
00:02:52,720 --> 00:03:17,080
但因為子代理之間沒有溝通，它們完全不知道前端定義的型別是否和後端一致。結果就是任務完成後，執行應用程式時才發現型別檢查不一致，然後就報錯了，對吧？因為子代理一號做了什麼，子代理二號根本不知道。這就是 Agent Teams 要解決的核心問題，你現在可以看到我們有了 Agent Teams，

9
00:03:17,520 --> 00:03:39,360
而 Team Lead 會派生出多個子代理，接下來每個子代理之間可以互相溝通。舉例來說，後端的子代理完成工作後，它會把它建立的資料型別傳送給前端的子代理，而前端的子代理就會用後端建立的型別來定義前端的型別。這樣不同子代理的工作之間就不會有溝通失誤和不一致的問題了。

10
00:03:39,520 --> 00:04:04,720
很明顯你可以看到，Agent Teams 的優勢就是所有子代理之間可以共享溝通。總結一下，基本上預設代理只有一個上下文視窗，子代理有各自獨立的上下文但彼此無法對話，而 Agent Teams 則可以啟用多個代理之間的完全平行協作，多個代理可以直接與彼此溝通。基本上這就是 Claude Code 中這三種模式的區別。

11
00:04:04,800 --> 00:04:22,320
好，現在你知道差別了，讓我們來看看如何在本機上設定這一切。首先我們要確保本機的 Claude Code 是最新版本。我們要做的就是回到終端機。不管你是在某個專案裡還是在根目錄的全新終端機中，你只需要執行 claude update 就可以了。

12
00:04:22,720 --> 00:04:39,280
這會把目前的版本更新到最新版本。它會檢查是否有最新版本可用。你可以看到它已經把我的 Claude Code 更新到最新版本了，可以看到已經更新完成。接下來我們要做的就是設定配置和 tmux。

13
00:04:39,520 --> 00:04:59,680
tmux 的用途基本上就是讓你在終端機內建立多個終端視窗，這樣你就可以在各自的終端視窗中與不同的代理進行溝通。那麼要安裝的話，我們只需要執行 brew install，然後輸入 tmux 按下 Enter，它就會透過 Homebrew 來安裝了。

14
00:04:59,760 --> 00:05:17,080
好的，你可以看到已經安裝成功了。安裝完成後，你可以看到這裡有顯示模式，Agent Teams 支援兩種顯示模式。一種是「進行中」模式，在同一個終端工作階段裡使用 Shift 加上下方向鍵來選擇你要和哪個隊友溝通；另一種方式是使用

15
00:05:17,280 --> 00:05:32,800
分割面板，這樣你可以同時看到所有人的輸出，點擊特定區塊就可以使用 tmux 來和它互動。好的，這就是為什麼我要在 Claude Code 裡使用 tmux。好，現在要在 Claude Code 裡啟用 tmux，我們只需要在根目錄執行這個指令。

16
00:05:32,880 --> 00:05:47,080
我現在要打開終端機，然後貼上那個指令，它會把 Claude Code 的 Agent Teams 模式設為 true，同時也把 tmux 分割面板設為 true。我按下 Enter，這些設定就到位了。

17
00:05:47,200 --> 00:06:06,560
好的，現在我們可以用 Claude 來啟動一個新的 tmux 工作階段了。我們只需要執行這個指令，我會把它放在 School 社群裡，這樣你可以在影片資源中取得完整的操作指南。我們要做的就是先 cd 到桌面，然後 cd 進入我的記帳應用程式目錄。

18
00:06:06,960 --> 00:06:28,400
然後我要貼上那個 tmux 新工作階段的指令。目前我在我要建構的專案裡面。我只要執行這個指令就好。你可以看到這就是我們得到的畫面，我們現在在 tmux 模式裡了。接下來我們要做的就是執行 Claude 並加上 dangerously skip permissions 選項。我要在 tmux 模式裡開一個 Claude 工作階段。

19
00:06:28,800 --> 00:06:40,080
首先你可以看到它提示說，沒錯，正在以跳過權限的模式執行。我直接選「是」，接受。你可以看到我們現在在當前專案目錄裡有了一個 Claude Code 工作階段。

20
00:06:40,240 --> 00:07:00,920
好的，現在設定都完成了，概覽也介紹過了，讓我們來看看如何在專案中使用 Agent Teams，如何啟動它、管理它、關閉它，如何使用 Agent Teams 來建構我們的專案。在這個範例中，我回到終端機，我要複製這段提示詞然後貼到 Claude Code 裡。這段提示詞的內容是這樣的。

21
00:07:00,920 --> 00:07:03,480
基本上目標是我們要研究直接銀行連線功能，

22
00:07:04,120 --> 00:07:33,480
透過這些供應商來實現，這樣就可以自動把交易紀錄匯入我們的應用程式，這就是目標。基本上我們要做的就是——關鍵字是「建立一個團隊」。如果你去看文件中如何觸發 Agent Teams，我們只需要指定「建立一個 Agent Teams 來探索、建構或研究某個東西」，這樣就會自動在 Claude Code 中觸發 Agent Teams 來執行，不需要斜線指令，只需要「建立一個 Agent Teams」或「建立團隊」這個關鍵字。

23
00:07:33,560 --> 00:08:03,480
所以你可以看到我說的是「建立一個叫做這個名字的團隊，四個平行代理」，等它們完成工作後會把所有發現彙整到這個 MD 檔案裡。我也提供了 Jira ticket 的參考，這樣它們可以觸發 Jira MCP 伺服器來取得 ticket 的相關上下文。你可以看到我們有不同的代理：商業代理、財務代理、技術架構代理和魔鬼代言人。讓我們逐一來看。這裡你可以看到我們的代理一，格式上我有名稱、模型，還有

24
00:08:04,560 --> 00:08:26,240
當然，我之前也有做過一部影片，講的是如何為應用程式開發中的不同情境建立你自己的子代理。如果你想更深入了解子代理，可以看看這部影片，你可以學到子代理的運作原理、如何建立你的子代理，以及你可以用子代理做什麼，對吧？所以我在這裡做的就是指定了要處理這個任務的子代理，也就是這個代理，專注在商業和產品方面。

25
00:08:26,560 --> 00:08:49,040
它的目標是使用網路搜尋來蒐集競爭對手和市場資料，然後進行分析，對吧？分析競爭對手、看看市場適配度如何、使用者體驗、影響分析，然後彙整這些結果。這就是代理一要做的事。我們還有代理二，專注在財務成本上。我們要使用哪個供應商，費用是多少？

26
00:08:49,040 --> 00:09:14,720
我們會有一個成本預估表來呈現這些資料。這就是代理二負責的財務與成本部分。然後代理三是技術架構。注意這裡我把模型改成了 Opus，因為代理三要完成的工作會非常複雜。所以我把系統架構師子代理指派給了 Opus 模型來處理技術架構。我們會用抽象層來架構這個專案。基本上意思是不管我們要用哪個供應商，對吧？

27
00:09:15,040 --> 00:09:44,960
我們只需要建立一個抽象層，類似 Repository 模式，應用程式會呼叫那個 Repository 或呼叫那個抽象層的服務。假設未來我們要從 Plaid 換成 Flinks，只需要在配置中改那個服務，或直接在 Repository 中修改，就可以影響到所有使用該供應商的應用程式了，對吧？所以我們建立抽象層來抽離不同供應商的依賴關係。這就是為什麼我們在這裡這樣設計。好的，你也可以看到我提到了會使用 Mermaid 圖表來呈現架構

28
00:09:45,080 --> 00:10:14,960
概覽，這些是我們要觸發的 skill，這些是我們可以使用的子代理。所以你可以看到我們有代理三。代理一和三，你可以看到它們都是獨立的代理，不需要彼此溝通，因為它們各自處理自己的任務。但代理四，我特別指定了它可以直接與其他代理溝通。基本上這個代理是一個通用代理，它扮演的是魔鬼代言人的角色，它會質疑和壓力測試代理一到三的任何發現和任務。所以基本上這就是

29
00:10:15,400 --> 00:10:44,960
我要派生的四個代理，這就是完整的提示詞。最後我們還有我們的 Lead，也就是 Tech Lead，它會派生這四個子代理來執行工作，最後彙整所有資料並做出完整的結論，大致就像以下這樣。基本上這就是我的提示詞，接下來我要做的就是複製這段內容，回到終端機，然後貼上去。好的，我就直接執行它，讓我們看看它會做什麼。你可以看到它首先會設定研究團隊，然後呼叫 Jira MCP 伺服器來查看 Jira ticket。好的，一旦我們從

30
00:10:45,080 --> 00:11:08,760
Jira 和現有的待辦清單中取得了完整的上下文，它現在就會建立團隊並派生四個研究代理。你可以看到它會建立四個 Agent Teams，基本上設定任務追蹤，然後平行派生所有四個研究代理。好的，你可以看到已經有兩個子代理被派生出來了，一個是商業產品方面的，另一個是財務成本方面的。我們可以在這些子代理中輸入任何內容來進行溝通。

31
00:11:08,880 --> 00:11:33,400
你可以看到它又派生了另一個子代理，叫做技術架構師，它會執行相關工作。我可以在這裡輸入任何內容來和不同的子代理溝通。最後，我們的魔鬼代言人也被派生出來了，它會質疑代理在做的每一件事。如果我要在這些之間切換，只需要用鍵盤按 Ctrl+B。你看，Ctrl+B，我可以切換到主聊天機器人這邊。我可以用 Tab 切換。

32
00:11:33,400 --> 00:12:00,440
這裡我可以查看魔鬼代言人的進度。如果我想切換到特定的代理，例如我想切換到架構代理，我只要按 Ctrl+B。你可以看到底部顯示已切換到架構設計。所以現在如果我輸入內容，你可以看到我已經切換到了架構代理。我也可以切換到綠色那一邊，你可以看到這裡。像是隱藏的銀行互動成本，使用 Ctrl+B 加上下方向鍵就可以切換了，只要看一下就能切過去。

33
00:12:00,600 --> 00:12:23,560
我也可以切換到開放銀行研究問題。我還可以輸入像是「嘿，進展如何？」之類的內容，我可以和這個代理互動。但很明顯，如果你只是想跟進進度而不是在這裡的終端機操作，我只需要按 Ctrl+B 然後左方向鍵，就會導航回根目錄，在這裡你可以看到我可以和主代理對話，也就是協調者，它會協調整個流程。

34
00:12:23,960 --> 00:12:46,120
在這個情況下，我就等一下，等所有東西完成合成最終的研究報告。現在你可以看到整個研究已經完成了。如果我想上下捲動，只需要按 Ctrl+B 然後按左方括號鍵，就可以上下捲動了。你可以看到我能夠上下捲動來查看已經完成了什麼。

35
00:12:46,440 --> 00:13:13,560
我們有輸出檔案，代理一的、代理二的、研究結果，還有整個研究摘要，所有檔案都已經加入了，你可以在這裡看到。基本上這就是如何使用 Agent Teams 來啟動、管理和完成任務。那麼接下來讓我們看看結果是什麼樣子，我直接切回 VS Code。我用預覽模式打開這個檔案，你可以看到這是我們的最終報告。

36
00:13:13,880 --> 00:13:41,880
首先你可以看到我們有目錄。我們有「是否執行」的建議——我們應該實作這個功能還是不實作？我們也有使用這個功能的供應商建議、成本明細、如果要建構的話的架構設計、風險評估，還有實施階段和附錄等等。你可以看到最終報告的內容。我們有為什麼應該採用這個功能的理由，因為所有競爭對手都在用、因為這可以為消費者節省時間。

37
00:13:42,600 --> 00:14:10,840
也有列出反對的理由，為什麼不應該使用這個功能，例如只有 53% 的消費者願意分享他們的金融資料，這對像我們這樣的小平台來說也可能是進入障礙，對吧？還有連線可靠性的問題。然後這是經過研究後的供應商建議，如果我們只專注在加拿大，那就用 Flinks；如果要擴展到美國市場，我們可能要選擇不同的供應商。基本上這就是分析結果，然後這裡是費用

38
00:14:11,240 --> 00:14:41,120
這是定價。就是這些內容。這是供應商策略。如果是 1,000 個使用者，可能我們先聚焦在加拿大市場。1,000 到 2,000 個使用者時，我們會擴展到美國市場。這就是這裡的內容。規模擴展，諸如此類。為什麼不用其他供應商？它給你了理由。這裡是費用總結。每個供應商在不同規模下的成本。假設你的使用者只有兩個銀行帳戶，大約 100 個使用者的話，費用大概是這麼多。而且因為 Plaid 有不同的定價層級，如果你有更多使用者的話，

39
00:14:41,400 --> 00:15:09,400
每個使用者的費用就會更低。所以基本上這就是你在這裡得到的資訊，好嗎？當然也有 Flinks 的部分。假設我們只想用 Flinks，這是要花多少錢。基本上這就是比較和架構建議。你可以看到這裡展示的是它為抽象層建立的所有內容。這裡你也可以看到資料庫 Schema，對吧？jobs、connected accounts 的 ID、銀行交易的展開欄位，對吧？就是這些東西。

40
00:15:09,520 --> 00:15:37,400
還有銀行連線供應商的部分。它掃描了文件後建立了類似這樣的東西，我們會在應用程式中使用，像是斷開連線、取得帳戶詳情、同步連線、或重新整理授權之類的功能，諸如此類，好嗎？所以基本上這就是整個研究的全部內容。整體來說，我就不在這裡深入太多細節了。還有各別的檔案，但基本上這就是我們如何使用 Agent Teams 來派生多個子代理，啟動它、管理它、然後完成它。

41
00:15:37,560 --> 00:15:48,280
好的，最後我想談的是如何把這一切轉換成一個 Claude skill，因為每次都要這樣執行可能會很麻煩，對吧？你告訴它要做什麼、研究什麼，而且你必須寫很長的提示詞，就像你在這裡看到的一樣。

42
00:15:48,280 --> 00:16:07,640
所以與其從頭開始透過撰寫提示詞來建立 Claude skill，我建議的做法是——在你完成整個執行之後，就是你在這裡看到的這次完整執行，我只需要在結束工作階段後向 Claude 下指令，我就直接說：根據我們剛才的對話，你可以建立一個 skill 讓我未來可以重複使用嗎？

43
00:16:07,880 --> 00:16:33,120
我只需要簡單地傳入參數，指定具體的研究主題或 Jira ticket 是什麼。然後你就可以直接執行它，取得上下文，或者像我們今天設定的一樣，用四個子代理來進行研究。「你可以建立一個 skill 嗎？」——這基本上就是我的提示詞。我會執行它，讓它根據我們剛剛經歷的這次對話來建立一個 skill。好的，你可以看到在它

44
00:16:33,200 --> 00:16:52,840
建立好 skill 之後，這就是我們可以使用它的方式。我們只需要輸入 /research-team，然後放入 Jira ticket 的編號，或者我們也可以用自由文字模式來指定。還有自訂輸出目錄等等功能。我們可以直接使用。我甚至可以用一個測試主題來試試。

45
00:16:52,840 --> 00:17:13,720
所以基本上這就是如何透過建立 skill 來重複使用它，只要簡單地派生我們剛才提到的那四個子代理就好。如果你想更深入了解這個 skill，你可以點擊進去，點擊你剛建立的 research-team，你可以清楚看到我們有四個代理。第一階段是研究，派生三個子代理並使用全新的上下文，然後我們還有挑戰階段，也就是魔鬼代言人。

46
00:17:14,560 --> 00:17:37,720
基本上就是讀過所有研究檔案並質疑其中的假設。然後第三階段是讀過所有四個檔案，撰寫最終報告。基本上就是這樣運作的。我們把所有東西放進一個 skill 裡，這樣未來就可以輕鬆地重複使用。好的，基本上這部影片就到這裡。在這部影片中，我們介紹了什麼是 Agent Teams，它和子代理以及預設模式有什麼不同，以及 Agent Teams 試圖解決什麼問題。

47
00:17:38,240 --> 00:17:54,840
我們也介紹了如何使用 tmux 來設定 Agent Teams，以及如何啟動工作階段、管理工作階段，還有關閉工作階段。最終我們還可以建立一個 Claude skill 來重複使用這套流程，而不需要每次都重複地和各個子代理逐一溝通。

48
00:17:55,000 --> 00:18:12,600
基本上這部影片就到這裡了，如果你覺得這部影片有幫助，請記得按讚，考慮訂閱以獲取更多類似的內容，我也會把完整的操作指南放在 School 社群裡，這樣你就可以複製並在本機上一步步操作。那麼就這樣，非常感謝觀看，我們下部影片見。
